/* ############################################ */
/* ## index.css - Styles des pages des index ## */
/* ############################################ */

/* Fixe un cadre général pour tout ce qui est sous l’entête */
.main-index .index-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    min-height: 200px; /* Empêche le contenu de rétrécir sur les pages vides */
    padding-top: 0;
}

/* Les boutons secondaires ne doivent pas trop étirer l'entête */
.main-index .page-header .buttons-container {
    margin-bottom: 10px; /* Ajoute un petit espace sous les boutons pour éviter l'effet trop étendu */
}

/* Ajoute un espace avant le tableau pour éviter qu'il soit collé */
.main-index .index-table, .index-empty-message {
    margin: 35px 0; /* Ajoute un espace au-dessus du tableau */
    width: 100%; /* Garde l'alignement correct */
}

/* Effet au survol */
.main-index .grid-4x10 > a:hover, .grid-sub-letters > a:hover {
    background: white;
    color: #0088a8;
    border: 1px solid #0088a8;
}

/* Supprimer le `gutter-x` de Bootstrap */
/* .main-index .container, .row {
    --bs-gutter-x: 0 !important; /* Supprime l'espace horizontal Bootstrap */
/* } */

/* Limite bien aux lignes de l'index uniquement */
.main-index .container,
.main-index .row {
    --bs-gutter-x: 0 !important;
}

/* Boutons carrés menu index avec bon alignement */
.main-index .btn-outline-primary,
.main-index .btn-outline-secondary {
    width: 40px;
    height: 40px;
    font-size: 1rem;
    padding: 0;
    text-align: center;
    border-radius: 0 !important;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Grosse lettre (ajustée à la hauteur des boutons) */
.main-index .big-letter {
    width: 174px;
    height: 174px;
    font-size: 8rem;
    font-weight: bold;
    background: linear-gradient(to bottom right, #00a0c6, #0088a8);
    color: white;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    overflow: hidden;
}

.main-index .big-letter span {
    display: inline-block;
    line-height: 1;
    /* transform: translateY(-5%); */
}

/* Grille des 27 boutons principaux */
.main-index .grid-4x10 {
    display: grid;
    grid-template-columns: repeat(10, 40px); /* 10 colonnes de 50px */
    grid-template-rows: repeat(4, 40px); /* 4 lignes de 50px */
    gap: 5px 3px; /* 7px entre les lignes, 3px entre colonnes */
}

/* Style des boutons principaux */
.main-index .grid-4x10 > a {
    background: linear-gradient(to bottom right, #00a0c6, #0088a8);
    color: white;
    border: 1px solid white;
    transition: background 0.3s ease-in-out;
    font-size: 1.3rem;
    font-weight: bold;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0 !important; /* Supprime les arrondis */
    margin: 0 !important;
    padding: 0 !important;
}

/* Empêche les boutons principaux d'être affectés par l'état actif */
.main-index .grid-4x10 > a.active {
    background: linear-gradient(to bottom right, #00a0c6, #0088a8) !important;
    color: white !important;
    border: 1px solid white !important;
    box-shadow: none !important; /* Supprime tout effet d'ombre */
}

/* Grille des sous-boutons (27 colonnes, ajustés pour une seule ligne) */
.main-index .grid-sub-letters {
    position: relative; /* Assure que l'élément reste bien en place */
    margin: 20px 0 !important; /* Supprime tout écart indésirable */
    padding-top: 0 !important;
    min-height: 40px; /* Empêche la ligne de disparaître */
    width: 100%;
    display: grid;
    grid-template-columns: repeat(27, 1fr); /* 27 colonnes de 26px */
    grid-template-rows: 1fr; /* Une seule ligne */
    gap: 4px; /* Espacement uniforme */
    justify-content: center; /* Centre la ligne dans le conteneur */
}

/* Style des sous-boutons */
.main-index .btn-sub {
    width: 30px;
    height: 30px;
    font-size: 0.8rem; /* Plus petit pour tenir */
    font-weight: bold;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0 !important;
    background: linear-gradient(to bottom right, #00a0c6, #0088a8) !important;
    color: white !important;
    border: 1px solid white !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Effet au survol */
.main-index .btn-sub:hover {
    background: white !important;
    color: #0088a8 !important;
    border: 1px solid #0088a8 !important;
}

/* Style des liens des sous-boutons */
.main-index .grid-sub-letters > a {
    width: 35px;
    height: 35px;
    font-size: 1rem; /* Plus petit pour tenir */
    font-weight: bold;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0 !important;
    background: linear-gradient(to bottom right, #00a0c6, #0088a8);
    color: white;
    border: 1px solid white;
}

/* Style du bouton actif dans les sous-lettres */
.main-index .grid-sub-letters > a.active {
    background: white !important;
    color: #0088a8 !important;
    border: 2px solid #0088a8 !important;
    font-weight: bold;
    box-shadow: 0 0 5px rgba(0, 136, 168, 0.8);
}

/* zone des entrées de l'index */

/* Assure que la zone des résultats reste constante */
.main-index .index-results {
    min-height: 150px; /* Empêche un décalage entre pages avec et sans entrées */
    width: 100%;
}

/* Table des entrées de l'index */
.main-index .index-table {
    width: 100%;
    border-collapse: collapse; /* Supprime l’espace entre les cellules */
    margin: 50px 0;
}

/* Espacement entre les mini-boutons et la bordure */
.main-index .index-table td {
    padding: 5px 5px; /* Haut/Bas: 8px | Gauche/Droite: 5px */
}

/* Style des catégories (noir et non souligné par défaut) */
.main-index .index-table td.category-link a {
    color: black !important; /* Texte noir */
    text-decoration: none !important; /* Pas de soulignement */
    font-weight: normal !important; /* Texte non gras */
    transition: color 0.3s ease-in-out;
}

/* Effet au survol : révéler que c’est cliquable */
.main-index .index-table td.category-link a:hover {
    color: #0088a8 !important; /* Bleu Soundamental */
    text-decoration: underline !important; /* Souligne au survol */
}

/* Colonnes : Largeurs fixes pour une bonne lisibilité */
.main-index .index-table th:nth-child(1), .index-table td:nth-child(1) { width: 50%; } /* Nom */
.main-index .index-table th:nth-child(2), .index-table td:nth-child(2) { width: 15%; } /* Catégorie */
.main-index .index-table th:nth-child(n+3), .index-table td:nth-child(n+3) { width: 6%; text-align: center; } /* Liens et Forum */

/* Bordure entre les lignes */
.main-index .index-table tbody tr {
    border-bottom: 1px solid #ddd; /* Trait de séparation */
}

/* Ajoute une bordure en haut uniquement à la première ligne */
.main-index .index-table tbody tr:first-child {
    border-top: 1px solid #ddd; /* Épaisseur et couleur ajustable */
}

/* Alternance de couleurs pour une meilleure lisibilité */
.main-index .index-table tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

/* Boutons des liens (mini format avec code 3 lettres) */
.main-index .index-link-btn {
    display: inline-block;
    width: 40px; /* Mini bouton */
    height: 25px;
    line-height: 25px;
    font-size: 0.8rem;
    font-weight: bold;
    text-align: center;
    background: #0088a8;
    color: white;
    text-decoration: none;
    border-radius: 3px;
    border: 1px solid white;
    transition: background 0.3s ease-in-out;
}

/* Effet au survol */
.main-index .index-link-btn:hover {
    background: white;
    color: #0088a8;
    border: 1px solid #0088a8;
}


/* ############################################# */
/* ############### MEDIA QUERIES ############### */
/* ############################################# */

/* ========================= */
/* Index - Responsive global */
/* ========================= */

/* — Tablet (≤ 992px) — */
@media (max-width: 992px) {
  /* Grosse lettre plus compacte */
  .main-index .big-letter {
    width: 140px;     /* au lieu de 174px */
    height: 140px;
    font-size: 6.5rem;
  }

  /* Grille principale : passe de 10 à 9 colonnes + 5 lignes si besoin */
  .main-index .grid-4x10 {
    grid-template-columns: repeat(9, 34px);
    grid-template-rows: repeat(5, 34px);
    gap: 6px 4px;
  }

  /* Boutons carrés un peu plus petits */
  .main-index .btn-outline-primary,
  .main-index .btn-outline-secondary {
    width: 34px;
    height: 34px;
    font-size: 1rem;
  }
}

/* Index — supprimer le "trou" sous le menu en mobile/tablette */
@media (max-width: 1199.98px) {
  .content-container .main-index.no-top-padding {
    --page-main-pt: 0 !important;  /* neutralise la variable imposée plus haut */
    padding-top: 0 !important;      /* colle l'entête interne au menu */
  }
}

/* ===================================================== */
/* 577px–1199.98px — Grosse lettre = hauteur de la grille */
/* Carré garanti (largeur = hauteur de la grille)        */
/* ===================================================== */
@media (min-width: 577px) and (max-width: 1199.98px) {
  /* Variables pour synchroniser les hauteurs (4 rangées) */
  .main-index {
    --idx-rows: 4;      /* nombre de lignes de la grille */
    --idx-cell: 34px;   /* hauteur d'une case (AJUSTABLE) */
    --idx-row-gap: 6px; /* espacement vertical entre lignes (AJUSTABLE) */
  }

  /* La ligne s'étire verticalement : la grille fixe la hauteur de référence */
  .main-index .page-header > .d-flex.align-items-center {
    align-items: stretch !important;
    gap: 10px;
  }
  .main-index .page-header .flex-grow-1 { min-width: 0; }

  /* La grille impose sa hauteur = rows * cell + gaps */
  .main-index .grid-4x10 {
    /* ordre par LIGNES, pas de débordement */
    grid-auto-flow: row;
    /* hauteur de chaque ligne = --idx-cell, 4 lignes */
    grid-template-rows: repeat(var(--idx-rows), var(--idx-cell));
    row-gap: var(--idx-row-gap);
  }

  /* Grosse lettre : carrée, largeur = hauteur calculée de la grille */
  .main-index .big-letter {
    /* hauteur = celle de la ligne (stretch via le parent) */
    height: auto;
    /* largeur calée sur la hauteur totale de la grille */
    width: calc(var(--idx-cell) * var(--idx-rows)
             + (var(--idx-rows) - 1) * var(--idx-row-gap));
    aspect-ratio: 1 / 1;   /* sécurité : garde le carré si police/border changent */
    flex: 0 0 auto;
    flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    line-height: 1; overflow: hidden;
    /* taille du caractère (ajuste si besoin) */
    font-size: clamp(4.8rem, 11vw, 6.2rem);
  }
}


/* ===================================================== */
/* ≤ 576px — Bandeau index : grosse lettre à gauche,     */
/* grille à droite, même hauteur, le tout lisible.       */
/* ===================================================== */
@media (max-width: 576.98px) {

  .dynamic-page-title {
    font-size: 3rem !important;
    margin-bottom: 10px !important;
  }
  .main-index .page-header {
    padding-top: 15px;
  }
  /* 1) Étirement vertical des 2 colonnes (override utilitaire BS) */
  .main-index .page-header > .d-flex.align-items-center {
    align-items: stretch !important;  /* remplace align-items-center */
    gap: 8px;
  }
  /* Réduit l'écart gauche/droite créé par .ms-4 sur petit écran */
  .main-index .page-header .ms-4 { margin-left: 8px !important; }

  /* 2) Lettre gauche : largeur fixe responsive, hauteur = celle de la grille */
  .main-index .big-letter {
    flex: 0 0 clamp(88px, 22vw, 116px);  /* largeur (colonne gauche) */
    height: auto;                        /* s’étire via align-items:stretch */
    font-size: clamp(3.6rem, 14vw, 5.2rem);
  }

  /* Important en contexte flex pour éviter le rognage sur la droite */
  .main-index .page-header .flex-grow-1 { min-width: 0; }

  /* Grille : 5 colonnes calculées pour éviter les arrondis foireux */
  .main-index .grid-4x10 {
    --gap: 4px;                                   /* espaces horizontaux/verticaux */
    display: grid;
    width: 100%;
    min-width: 0;
    grid-auto-flow: row;                          /* progression PAR LIGNES */
    grid-template-columns: repeat(5, calc((100% - 4*var(--gap)) / 5));
    column-gap: var(--gap);
    row-gap: var(--gap);
    /* On supprime toute hauteur/ligne héritée du desktop */
    grid-template-rows: unset;
    grid-auto-rows: unset;
  }

  /* Chaque case : carré fiable + centrage parfait du caractère */
  .main-index .grid-4x10 > a {
    display: flex;                 /* centrage sans flottement */
    align-items: center;
    justify-content: center;
    width: 100%;
    aspect-ratio: 1 / 1;          /* carré strict, sans ::before */
    box-sizing: border-box;        /* prend en compte les bordures */
    margin: 0;
    padding: 0;
    line-height: 1;                /* évite le texte "trop bas" */
    overflow: hidden;              /* rien ne dépasse du carré */
    font-size: clamp(0.95rem, 5vw, 1.1rem); /* taille lisible et contenue */
  }

  /* Si un span/strong est utilisé à l'intérieur, on normalise */
  .main-index .grid-4x10 > a > span,
  .main-index .grid-4x10 > a > strong {
    display: block;
    line-height: 1;
  }

  /* Sous-lettres : bascule en carrousel horizontal (scroll) */
  .main-index .grid-sub-letters {
    display: flex;                 /* override du grid desktop */
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    gap: 6px;
    padding: 6px 2px 8px 2px;      /* un petit souffle pour le doigt */
    scroll-snap-type: x proximity; /* snap doux */
  }
  .main-index .grid-sub-letters > a {
    flex: 0 0 36px;                /* largeur fixe par bouton */
    height: 36px;
    line-height: 36px;
    scroll-snap-align: start;
  }

  /* Allège les marges autour du tableau/liste */
  .main-index .index-table,
  .main-index .index-empty-message {
    margin: 20px 0;
  }
}

/* ========================================= */
/* Index — Mobile : sous-lettres défilantes  */
/* ========================================= */
@media (max-width: 576px) {
  /* Passe la barre des 27 sous-lettres en ligne scrollable */
  .main-index .grid-sub-letters {
    display: flex;                 /* remplace le grid desktop */
    gap: 6px;                      /* espacement constant */
    padding: 6px 2px 8px 2px;      /* marge interne pour le doigt */
    overflow-x: auto;              /* défilement horizontal */
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x proximity; /* accrochage doux */
  }

  /* Chaque bouton prend une largeur fixe, lisible au doigt */
  .main-index .grid-sub-letters > a {
    flex: 0 0 36px;                /* largeur fixe */
    height: 36px;
    line-height: 36px;
    scroll-snap-align: start;
  }
}
