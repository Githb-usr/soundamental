/* ############################################ */
/* ## index.css - Styles des pages des index ## */
/* ############################################ */

/* Fixe un cadre général pour tout ce qui est sous l’entête */
.main-index .index-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    min-height: 200px; /* Empêche le contenu de rétrécir sur les pages vides */
    padding-top: 0;
}

/* Les boutons secondaires ne doivent pas trop étirer l'entête */
.main-index .page-header .buttons-container {
    margin-bottom: 10px; /* Ajoute un petit espace sous les boutons pour éviter l'effet trop étendu */
}

/* Ajoute un espace avant le tableau pour éviter qu'il soit collé */
.main-index .index-table, .index-empty-message {
    margin: 35px 0; /* Ajoute un espace au-dessus du tableau */
    width: 100%; /* Garde l'alignement correct */
}

/* Effet au survol */
.main-index .grid-4x10 > a:hover, .grid-sub-letters > a:hover {
    background: white;
    color: #0088a8;
    border: 1px solid #0088a8;
}

/* Supprimer le `gutter-x` de Bootstrap, limité aux lignes de l'index uniquement */
.main-index .container,
.main-index .row {
    --bs-gutter-x: 0 !important;
}

/* Boutons carrés menu index avec bon alignement */
.main-index .btn-outline-primary,
.main-index .btn-outline-secondary {
    width: 40px;
    height: 40px;
    font-size: 1rem;
    padding: 0;
    text-align: center;
    border-radius: 0 !important;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Grosse lettre (ajustée à la hauteur des boutons) */
.main-index .big-letter {
    width: 174px;
    height: 174px;
    font-size: 8rem;
    font-weight: bold;
    background: linear-gradient(to bottom right, #00a0c6, #0088a8);
    color: white;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    overflow: hidden;
}

.main-index .big-letter span {
    display: inline-block;
    line-height: 1;
    /* transform: translateY(-5%); */
}

/* Grille des 27 boutons principaux */
.main-index .grid-4x10 {
    display: grid;
    grid-template-columns: repeat(10, 40px); /* 10 colonnes de 50px */
    grid-template-rows: repeat(4, 40px); /* 4 lignes de 50px */
    gap: 5px 3px; /* 7px entre les lignes, 3px entre colonnes */
}

/* Style des boutons principaux */
.main-index .grid-4x10 > a {
    background: linear-gradient(to bottom right, #00a0c6, #0088a8);
    color: white;
    border: 1px solid white;
    transition: background 0.3s ease-in-out;
    font-size: 1.3rem;
    font-weight: bold;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0 !important; /* Supprime les arrondis */
    margin: 0 !important;
    padding: 0 !important;
}

/* Empêche les boutons principaux d'être affectés par l'état actif */
.main-index .grid-4x10 > a.active {
    background: linear-gradient(to bottom right, #00a0c6, #0088a8) !important;
    color: white !important;
    border: 1px solid white !important;
    box-shadow: none !important; /* Supprime tout effet d'ombre */
}

/* Grille des sous-boutons (27 colonnes, ajustés pour une seule ligne) */
.main-index .grid-sub-letters {
    position: relative; /* Assure que l'élément reste bien en place */
    margin: 20px 0 !important; /* Supprime tout écart indésirable */
    padding-top: 0 !important;
    min-height: 40px; /* Empêche la ligne de disparaître */
    width: 100%;
    display: grid;
    grid-template-columns: repeat(27, 1fr); /* 27 colonnes de 26px */
    grid-template-rows: 1fr; /* Une seule ligne */
    gap: 4px; /* Espacement uniforme */
    justify-content: center; /* Centre la ligne dans le conteneur */
}

/* Style des sous-boutons */
.main-index .btn-sub {
    width: 30px;
    height: 30px;
    font-size: 0.8rem; /* Plus petit pour tenir */
    font-weight: bold;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0 !important;
    background: linear-gradient(to bottom right, #00a0c6, #0088a8) !important;
    color: white !important;
    border: 1px solid white !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Effet au survol */
.main-index .btn-sub:hover {
    background: white !important;
    color: #0088a8 !important;
    border: 1px solid #0088a8 !important;
}

/* Style des liens des sous-boutons */
.main-index .grid-sub-letters > a {
    width: 35px;
    height: 35px;
    font-size: 1rem; /* Plus petit pour tenir */
    font-weight: bold;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0 !important;
    background: linear-gradient(to bottom right, #00a0c6, #0088a8);
    color: white;
    border: 1px solid white;
}

/* Style du bouton actif dans les sous-lettres */
.main-index .grid-sub-letters > a.active {
    background: white !important;
    color: #0088a8 !important;
    border: 2px solid #0088a8 !important;
    font-weight: bold;
    box-shadow: 0 0 5px rgba(0, 136, 168, 0.8);
}

/* zone des entrées de l'index */

/* Assure que la zone des résultats reste constante */
.main-index .index-results {
    min-height: 150px; /* Empêche un décalage entre pages avec et sans entrées */
    width: 100%;
}

/* Table des entrées de l'index */
.main-index .index-table {
    width: 100%;
    border-collapse: collapse; /* Supprime l’espace entre les cellules */
    margin: 50px 0;
}

/* Espacement entre les mini-boutons et la bordure */
.main-index .index-table td {
    padding: 5px 5px; /* Haut/Bas: 8px | Gauche/Droite: 5px */
}

/* Style des catégories (noir et non souligné par défaut) */
.main-index .index-table td.category-link a {
    color: black !important; /* Texte noir */
    text-decoration: none !important; /* Pas de soulignement */
    font-weight: normal !important; /* Texte non gras */
    transition: color 0.3s ease-in-out;
}

/* Effet au survol : révéler que c’est cliquable */
.main-index .index-table td.category-link a:hover {
    color: #0088a8 !important; /* Bleu Soundamental */
    text-decoration: underline !important; /* Souligne au survol */
}

/* Colonnes : Largeurs fixes pour une bonne lisibilité */
.main-index .index-table th:nth-child(1), .index-table td:nth-child(1) { width: 50%; } /* Nom */
.main-index .index-table th:nth-child(2), .index-table td:nth-child(2) { width: 15%; } /* Catégorie */
.main-index .index-table th:nth-child(n+3), .index-table td:nth-child(n+3) { width: 6%; text-align: center; } /* Liens et Forum */

/* Bordure entre les lignes */
.main-index .index-table tbody tr {
    border-bottom: 1px solid #ddd; /* Trait de séparation */
}

/* Ajoute une bordure en haut uniquement à la première ligne */
.main-index .index-table tbody tr:first-child {
    border-top: 1px solid #ddd; /* Épaisseur et couleur ajustable */
}

/* Alternance de couleurs pour une meilleure lisibilité */
.main-index .index-table tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

/* Boutons des liens (mini format avec code 3 lettres) */
.main-index .index-link-btn {
    display: inline-block;
    width: 40px; /* Mini bouton */
    height: 25px;
    line-height: 25px;
    font-size: 0.8rem;
    font-weight: bold;
    text-align: center;
    background: #0088a8;
    color: white;
    text-decoration: none;
    border-radius: 3px;
    border: 1px solid white;
    transition: background 0.3s ease-in-out;
}

/* Effet au survol */
.main-index .index-link-btn:hover {
    background: white;
    color: #0088a8;
    border: 1px solid #0088a8;
}

/* Badge "alias" pour les noms de l'index */
/* ###################################### */

/* Badge "alias" pour les noms de l'index (desktop + mobile) */
.main-index .index-badge-alias {
    display: inline-block;          /* reste à côté du nom */
    vertical-align: baseline; /* s’aligne sur la ligne de texte */
    margin-left: 6px;               /* petit espace après le nom */
    padding: 1px 6px;               /* pastille compacte */
    font-size: 0.72rem;             /* plus petit que le texte du nom */
    line-height: 1.2;
    text-transform: lowercase;      /* rendu "alias" comme demandé */
    background-color: #e9f5f8;      /* bleu très clair */
    color: #0088a8;                 /* bleu du thème */
    border: 1px solid #bfe3ec;      /* liseré léger */
    border-radius: 3px;
    vertical-align: middle;
    white-space: nowrap;            /* évite le retour à la ligne du badge */
}

/* Nom dans le tableau desktop : garde le flux en ligne pour accueillir le badge */
.main-index .index-table .index-name {
    font-weight: 600;               /* met un léger relief au nom */
    white-space: nowrap;            /* évite que le badge passe à la ligne */
    overflow: hidden;               /* compatible avec truncatechars côté template */
    text-overflow: ellipsis;
    max-width: 100%;
}

/* Nom dans l'accordéon mobile : bloc à gauche qui contient nom + badge */
.main-index .index-acc-summary .index-acc-left {
    display: inline-flex;           /* aligne nom + badge proprement */
    align-items: baseline;          /* badge aligné sur la ligne de base du nom */
    gap: 6px;                       /* espace constant si jamais le badge saute la marge */
}

/* Nom mobile : same idea que desktop mais adapté au flux mobile */
.main-index .index-acc-summary .index-acc-name {
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}



/* ############################################# */
/* ############### MEDIA QUERIES ############### */
/* ############################################# */

/* ========================= */
/* Index - Responsive global */
/* ========================= */

/* — Tablet (≤ 992px) — */
@media (max-width: 992px) {
  /* Grosse lettre plus compacte */
  .main-index .big-letter {
    width: 140px;     /* au lieu de 174px */
    height: 140px;
    font-size: 6.5rem;
  }

  /* Grille principale : passe de 10 à 9 colonnes + 5 lignes si besoin */
  .main-index .grid-4x10 {
    grid-template-columns: repeat(9, 34px);
    grid-template-rows: repeat(5, 34px);
    gap: 6px 4px;
  }

  /* Boutons carrés un peu plus petits */
  .main-index .btn-outline-primary,
  .main-index .btn-outline-secondary {
    width: 34px;
    height: 34px;
    font-size: 1rem;
  }
}

/* Coller le menu à l'en-tête en mobile/tablette */
@media (max-width: 1200px) {
  .content-container .main-index.no-top-padding {
    --page-main-pt: 0 !important;  /* neutralise la variable imposée plus haut */
    padding-top: 0 !important;      /* colle l'entête interne au menu */
  }
}

/* ===================================================== */
/* 577px–1199.98px — Grille fixe 4×10 + grosse lettre    */
/* Carrés fiables, lettre carrée = hauteur de la grille  */
/* ===================================================== */
@media (min-width: 577px) and (max-width: 1199.98px) {

  /* Neutraliser le "space-between" du <main> pour l'index */
  .content-container main.main-index {
    justify-content: flex-start !important; /* stoppe l’étirement variable */
  }

  /* Variables dédiées à cette plage : ajuste --cell si besoin */
  .main-index {
    --cell: 36px;  /* taille d'un carré (à ajuster si trop petit/grand) */
    --gap: 6px;    /* espacement constant entre cases */
    --rows: 4;
    --cols: 10;
  }

  /* On laisse de l'air entre la lettre et la grille, sans forcer la largeur totale */
  .main-index .page-header > .d-flex.align-items-center {
    align-items: flex-start;
    gap: 12px;
  }

  /* Grille 4×10 à largeur/hauteur déterministes (pas responsive ici) */
  .main-index .grid-4x10 {
    display: grid;
    grid-auto-flow: row; /* progression par LIGNES */
    grid-template-columns: repeat(var(--cols), var(--cell));
    grid-template-rows: repeat(var(--rows), var(--cell));
    gap: var(--gap);
    width: calc(var(--cols) * var(--cell) + (var(--cols) - 1) * var(--gap)); /* largeur fixe de la grille */
  }

  /* Cases parfaitement carrées (même mesure que --cell) */
  .main-index .grid-4x10 > a {
    width: var(--cell);
    height: var(--cell);
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    padding: 0;
    /* Taille du caractère ajustable */
    font-size: clamp(0.95rem, 1.9vw, 1.1rem);
  }

  /* Grosse lettre : carré de hauteur identique à la grille (4 lignes + gaps) */
  .main-index .big-letter {
    width:  calc(var(--rows) * var(--cell) + (var(--rows) - 1) * var(--gap));
    height: calc(var(--rows) * var(--cell) + (var(--rows) - 1) * var(--gap));
    flex: 0 0 auto; /* pas de rétrécissement */
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    overflow: hidden;
  }

  .main-index .index-content {
    row-gap: 12px;               /* espace stable entre TOUS les enfants (dont .page-header et .grid-sub-letters) */
  }
  .main-index .page-header { 
    margin-bottom: 0 !important; /* on laisse le parent gérer l'écart */
  }
}

/* Sous-lettres — flex-wrap, sans scroll (<1200px) */
/* Mobile + Intermédiaire : on wrappe, on part de la 1re lettre, pas de trou */
@media (min-width: 577px) and (max-width: 1199.98px) {
  /* Resserre l'espace sous le bandeau (lettre + grille) */
  .main-index .page-header { margin-bottom: 8px !important; }

  /* Ruban des sous-lettres : pas de grid, pas de carrousel */
  .main-index .grid-sub-letters {
    display: flex !important;
    flex-wrap: wrap;
    justify-content: flex-start;   /* commence à gauche */
    align-content: flex-start;
    gap: 6px;
    margin: 1rem 0 0 0 !important;
    padding: 0 !important;
    overflow: visible !important;
  }

  .main-index .grid-sub-letters > a {
    display: flex; align-items: center; justify-content: center;
    width: 36px; height: 36px;
    line-height: 1; padding: 0;
  }

  /* Un peu plus grand en écrans intermédiaires */
  @media (min-width: 577px) {
  .main-index .grid-sub-letters { gap: 8px; }
  .main-index .grid-sub-letters > a { width: 40px; height: 40px; }
  }
}

/* ===================================================== */
/* ≤ 576px — Bandeau index : grosse lettre à gauche,     */
/* grille à droite, même hauteur, le tout lisible.       */
/* ===================================================== */
@media (max-width: 576.98px) {

  .dynamic-page-title {
    font-size: 3rem !important;
    margin-bottom: 10px !important;
  }
  .main-index .page-header {
    padding-top: 15px;
  }
  /* 1) Étirement vertical des 2 colonnes (override utilitaire BS) */
  .main-index .page-header > .d-flex.align-items-center {
    align-items: stretch !important;  /* remplace align-items-center */
    gap: 8px;
  }
  /* Réduit l'écart gauche/droite créé par .ms-4 sur petit écran */
  .main-index .page-header .ms-4 { margin-left: 8px !important; }

  /* 2) Lettre gauche : largeur fixe responsive, hauteur = celle de la grille */
  .main-index .big-letter {
    flex: 0 0 clamp(88px, 22vw, 116px);  /* largeur (colonne gauche) */
    height: auto;                        /* s’étire via align-items:stretch */
    font-size: clamp(3.6rem, 14vw, 5.2rem);
  }

  /* Important en contexte flex pour éviter le rognage sur la droite */
  .main-index .page-header .flex-grow-1 { min-width: 0; }

  /* Grille : 5 colonnes calculées pour éviter les arrondis foireux */
  .main-index .grid-4x10 {
    --gap: 4px;                                   /* espaces horizontaux/verticaux */
    display: grid;
    width: 100%;
    min-width: 0;
    grid-auto-flow: row;                          /* progression PAR LIGNES */
    grid-template-columns: repeat(5, calc((100% - 4*var(--gap)) / 5));
    column-gap: var(--gap);
    row-gap: var(--gap);
    /* On supprime toute hauteur/ligne héritée du desktop */
    grid-template-rows: unset;
    grid-auto-rows: unset;
  }

  /* Chaque case : carré fiable + centrage parfait du caractère */
  .main-index .grid-4x10 > a {
    display: flex;                 /* centrage sans flottement */
    align-items: center;
    justify-content: center;
    width: 100%;
    aspect-ratio: 1 / 1;          /* carré strict, sans ::before */
    box-sizing: border-box;        /* prend en compte les bordures */
    margin: 0;
    padding: 0;
    line-height: 1;                /* évite le texte "trop bas" */
    overflow: hidden;              /* rien ne dépasse du carré */
    font-size: clamp(0.95rem, 5vw, 1.1rem); /* taille lisible et contenue */
  }

  /* Si un span/strong est utilisé à l'intérieur, on normalise */
  .main-index .grid-4x10 > a > span,
  .main-index .grid-4x10 > a > strong {
    display: block;
    line-height: 1;
  }

  /* Allège les marges autour du tableau/liste */
  .main-index .index-table,
  .main-index .index-empty-message {
    margin: 20px 0;
  }
}

/* Mobile (≤ 576.98px) — sous-lettres : 2 lignes + scroll horizontal, ordre par LIGNES */
@media (max-width: 576.98px) {
  .main-index .grid-sub-letters {
    /* Deux lignes fixes, on étend en colonnes vers la droite */
    display: grid;
    grid-template-rows: repeat(2, 36px);  /* 2 lignes */
    grid-auto-flow: column dense;
    grid-auto-columns: 36px;              /* largeur fixe par case */
    column-gap: 6px;                      /* espace horizontal */
    row-gap: 6px;                         /* espace entre les 2 lignes */
    justify-content: start;               /* départ bien à gauche */
    align-content: start;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    /* Pas de padding/marges qui décalent la 1ʳᵉ case hors écran */
    padding: 0 !important;
    margin-top: 12px !important;   /* on garde un petit espace au-dessus */
  }

  .main-index .grid-sub-letters > a {
    display: flex; align-items: center; justify-content: center;
    width: 36px; height: 36px;
    line-height: 1; padding: 0;
    flex: 0 0 auto; /* pas de shrink en scroll */
  }

  /* ⚠️ Ordre par LIGNES (row-major) pour 27 items : 14 en 1ère ligne, le reste en 2e */
  .main-index .grid-sub-letters > a { grid-row: 1; }
  .main-index .grid-sub-letters > a:nth-child(n+15) { grid-row: 2; }
}

/* =============================================================== */
/* < 700px — Accordéon des lignes d'index (écrans intermédiaires)  */
/* =============================================================== */
@media (max-width: 699.98px) {
  /* Espace entre sous-lettres et entrées de l'index */
  .main-index .grid-sub-letters {
    margin-bottom: 1rem !important;
  }

  /* Le bloc mobile sort du conteneur centré et s'étire bord à bord */
  .main-index .index-results-mobile {
    width: var(--vw);                                   /* largeur viewport */
    margin-left: calc(50% - 0.5 * var(--vw));                  /* annule le centrage du .container */
    margin-right: calc(50% - 0.5 * var(--vw));
    padding-left: 12px;                              /* léger padding interne */
    padding-right: 12px;
    box-sizing: border-box; /* évite 100vw + padding => plus de tronquage à droite */
  }

  /* Liste des items : empilage simple, espacements courts */
  .main-index .index-results-mobile .index-accordion {
    display: grid;
    row-gap: 8px; /* espace entre items */
  }

  /* Item <details> : cadre discret */
  .main-index .index-results-mobile .index-acc-item {
    width: calc(100% + 2px);       /* +2px = épaisseur des 2 bordures */
    border: 1px solid #e3e3e3;
    background: #f9f9f9;
    box-sizing: border-box; /* inclut la bordure dans les 100% */
    margin: 0;              /* neutralise un éventuel margin UA */
    margin-left: -1px;             /* décale la bordure gauche dans le padding du conteneur */
    margin-right: -1px;            /* idem à droite */
  }

  /* En-tête cliquable */
  .main-index .index-results-mobile .index-acc-summary {
    display: flex;
    align-items: flex-start;      /* le badge peut passer dessous si le nom wrappe */
    min-width: 0;
    gap: 8px;
    padding: 10px 12px;
    list-style: none;             /* neutralise le marqueur natif */
    cursor: pointer;
    margin: 0;
  }
  /* Masque le marqueur par défaut (Chrome/Safari) */
  .main-index .index-results-mobile .index-acc-summary::-webkit-details-marker { display: none; }

  /* Chevron d’état (ajouté en CSS, pas en HTML) */
  .main-index .index-results-mobile .index-acc-summary::after {
    content: "▾";                 /* flèche simple, lisible */
    margin-left: auto;
    transform-origin: 50% 50%;
    transition: transform .2s ease;
  }
  .main-index .index-results-mobile .index-acc-item[open] > .index-acc-summary::after {
    transform: rotate(180deg);
  }

  /* Nom : priorité visuelle + clamp (max 2 lignes) */
  .main-index .index-results-mobile .index-acc-name {
    flex: 1 1 auto;
    font-weight: 600;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;        /* 2 lignes max - WebKit (actuel) */
    line-clamp: 2;           /* Standard (futur) */
  }

  .main-index .index-results-mobile .index-acc-cat {
    color: #555;
    background: #eee;
    padding: 2px 6px;
    border: 1px solid #ddd;
    border-radius: 0;
    white-space: nowrap;
  }

  .main-index .index-results-mobile .index-acc-cat a {
    color: inherit;
    text-decoration: none;
  }

  /* Corps déplié : liens en chips qui wrapent sur plusieurs lignes */
  .main-index .index-results-mobile .index-acc-body {
    padding: 8px 12px 12px;
    border-top: 1px solid #e3e3e3;
    background: #fff;
  }
  .main-index .index-results-mobile .index-acc-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end; /* pousse les liens à droite */
    gap: 8px;
  }

  /* Liens (réutilise .index-link-btn mais on assure des cibles tactiles) */
  .main-index .index-results-mobile .index-acc-links .index-link-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    height: 36px;             /* cible tactile confortable */
    line-height: 1;
    padding: 0 10px;          /* laisse respirer les labels */
    border-radius: 0;         /* cohérence visuelle */
  }

  /* Si PAS de sous-lettres, on garde un espace avant les résultats */
  .main-index .index-results-mobile {
      margin-top: 1rem; /* espace si aucune sous-lettre */
  }
  .main-index .grid-sub-letters + .index-results-mobile {
      margin-top: 0; /* annule l'espace si les sous-lettres sont présentes */
  }
}

/* =========================================================== */
/* < 500px — Accordéon spécifique des lignes d'index (mobile)  */
/* =========================================================== */
@media (max-width: 499.98px) {
  /* Header de l’item : autorise le retour à la ligne et réserve la place du chevron */
  .main-index .index-results-mobile .index-acc-summary {
      position: relative;      /* nécessaire pour positionner la flèche */
      display: flex;
      flex-wrap: wrap;         /* permet à la catégorie de passer dessous */
      align-items: flex-start;
      gap: 8px;
      min-width: 0;            /* évite le tronquage */
      padding-right: 28px;     /* réserve la place de la flèche */
  }

  /* Flèche (chevron) en haut à droite, hors du flux */
  .main-index .index-results-mobile .index-acc-summary::after {
    position: absolute;
    top: 12px;
    right: 12px;
  }

/* < 500 px — Forcer l'ellipsis du NOM sur l'enfant qui porte le texte */
  .main-index .index-results-mobile .index-acc-name {
    order: 1;
    flex: 0 0 100%;   /* garde la catégorie en dessous */
    min-width: 0;     /* autorise le shrink */
  }

  /* Quel que soit l'enfant immédiat (a / span / strong), on applique l'ellipsis */
  .main-index .index-results-mobile .index-acc-name > a,
  .main-index .index-results-mobile .index-acc-name > span,
  .main-index .index-results-mobile .index-acc-name > strong {
    display: block;         /* nécessaire pour text-overflow */
    max-width: 100%;
    min-width: 0;
    white-space: nowrap;    /* 1 seule ligne */
    overflow: hidden;       /* cache le surplus */
    text-overflow: ellipsis;/* affiche "…" */
  }

  /* 3) Sécurité : la flèche est au-dessus et non cliquable */
  .main-index .index-results-mobile .index-acc-summary::after {
    z-index: 1;
    pointer-events: none;
  }

  .main-index .index-results-mobile .index-acc-cat {
    order: 2;
    flex: 0 0 auto;                     /* largeur = contenu */
    display: inline-block;              /* garde l’aspect badge */
    align-self: flex-start;             /* sous le nom, aligné en haut */
    margin-top: 2px;

    /* Contraintes de largeur et coupe propre */
    max-width: calc(100% - 28px);       /* laisse la zone de la flèche à droite */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

/* 577–630 px — Grille fluide (ne déborde plus à droite) */
@media (min-width: 577px) and (max-width: 630px) {

  /* Le bloc de droite peut rétrécir correctement */
  .main-index .page-header .flex-grow-1 { 
    min-width: 0;
  }

  /* Grille 10 colonnes qui s'adapte à la largeur dispo */
  .main-index .grid-4x10 {
    width: 100%;
    --gap: 5px; /* léger resserrement pour cette tranche */
    display: grid;
    grid-auto-flow: row;
    grid-template-columns: repeat(10, calc((100% - 9*var(--gap)) / 10));
    column-gap: var(--gap);
    row-gap: var(--gap);
  }

  /* Cases carrées qui suivent la largeur de colonne */
  .main-index .grid-4x10 > a {
    width: 100%;
    aspect-ratio: 1 / 1;      /* carré strict */
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    margin: 0;
    padding: 0;
  }
}

/* 700–767.98 px : afficher le tableau, masquer l'accordéon */
@media (min-width: 700px) and (max-width: 767.98px) {
  .main-index .index-results { display: block !important; }        /* montre le tableau */
  .main-index .index-results-mobile { display: none !important; }  /* cache l'accordéon */
}

/* ========================= */
/* ≤ 768px : tablettes/mobiles */
/* ========================= */
@media (max-width: 768px) {
  .main-index .index-badge-alias {
    font-size: 0.65rem;    /* encore plus discret */
    padding: 1px 4px;      /* réduit la pastille */
    margin-left: 4px;      /* espace plus court */
  }
}

/* ========================= */
/* ≤ 420px : très petits écrans */
/* ========================= */
@media (max-width: 420px) {
  .main-index .index-badge-alias {
    margin-left: 0;         /* on annule la marge gauche */
    margin-top: 2px;        /* petit espace au-dessus */
    font-size: 0.6rem;      /* police réduite */
    text-align: left;       /* aligné avec le nom */
  }
}


/* Accordéon mobile : entrée ouverte mise en évidence en vert plus soutenu */
.main-index .index-results-mobile .index-acc-item[open] {
    background-color: #e0f7e0; /* vert clair soutenu */
    border-color: #9dd99d;     /* vert plus marqué */
}

/* Badge catégorie assorti en vert plus clair */
.main-index .index-results-mobile .index-acc-item[open] .index-acc-cat {
    background-color: #f4fff4; /* vert très pâle */
    border-color: #b6e2b6;     /* vert clair */
}

@media (max-width: 576.98px) {
  .main-index {
    padding-bottom: 60px;
  }
}
